alias copy="rsync --archive --update --progress --human-readable --recursive"
alias move="rsync --archive --update --progress --human-readable --recursive --remove-source-files"

# Make directory, and cd into it
alias mkcd=alias mkcd="function _mkcd() { local dir="$*"; mkdir -p "$dir" && cd "$dir";}; _mkcd"

# Copy with rsync and move into destination
alias mkcopy=alias mkmove="function _mkmove() { rsync --archive --update --progress --human-readable --recursive "$1" "$2" && cd "$2"; }; _mkmove"

# Move with rsync and move into destination
alias mkmove="function _mkmove() { rsync --archive --update --progress --human-readable --recursive --remove-source-files "$1" "$2" && cd "$2"; }; _mkcopy"

# Move out of directories
alias home="cd ~"
alias ..="cd .."
alias ...="cd ../.."
alias ....="cd ../../.."
alias .....="cd ../../../.."
alias ......="cd ../../../.."

# Install, updates & upgrade
alias update="sudo apt update"
alias upgrade="sudo apt upgrade -y"
alias upup="sudo update && sudo apt upgrade -y"

# Function to check if exa is installed
check_exa() {
  if command -v exa &> /dev/null; then
    alias ls="exa -la" # ls
    alias ll="exa -lbF --git" # list, size, type, git
    alias llm="exa -lbGd --git --sort=modified" # long list, modified date sort
    alias la="exa -lbhHigUmuSa --time-style=long-iso --git --color-scale" # all list
    alias lx="exa -lbhHigUmuSa@ --time-style=long-iso --git --color-scale" # all + extended list
    alias lS="exa -1" # one column, just names
    alias lt="exa --tree --level=2" # tree
  else
    alias ls="ls -la" # fallback to ls
    alias ll="ls -lbF" # fallback to ls
    alias llm="ls -lbGd --sort=modified" # fallback to ls
    alias la="ls -lbhHigUmuSa --time-style=long-iso" # fallback to ls
    alias lx="ls -lbhHigUmuSa@" # fallback to ls
    alias lS="ls -1" # fallback to ls
    alias lt="ls --tree --level=2" # fallback to ls
  fi
}

# Call the function
check_exa

# clear write issues
alias claer="clear"
alias clera="clear"
alias clare="clear"
alias clr="clear"
alias ckear="clear"
alias c="clear"

# reboot & shutdown
alias reboot="sudo reboot"
alias shutdown="sudo shutdown -h 0"

# Automatically start tmux in ssh sessions
if [[ $- =~ i ]] && [[ -z "$TMUX" ]] && [[ -n "$SSH_TTY" ]]; then
  tmux attach-session -t ssh_tmux || tmux new-session -s "$(hostname)"
fi
